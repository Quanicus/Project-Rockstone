import Retailer from "../retailer.js";

class Walmart extends Retailer {
   
    static domain = "https://www.walmart.com"
    
    //overridding abstract method
    static parse_sales_response(response) {
        const raw_products = response.data.data.search.searchResult.itemStacks[0].itemsV2
        const products = raw_products
        .filter(product => product.canonicalUrl && product.priceInfo.currentPrice)
        .map(product => {

            let source = {};
            source.retailer = 'Walmart';
            source.price = product.priceInfo.currentPrice.price;
            source.url = this.domain + product.canonicalUrl;
            source.name = product.name;
            source.pid = product.usItemId;
            return {source};
        });
        return products;
    }
    //overriding abstract method
    static parse_product_response(response) {
        let data = {};
        data.upcs = [response.data.data.product.upc];
        return data;
    }
    //overriding abstract method
    static parse_max_page_response(response) {
        return response.data.data.search.searchResult.paginationV2.maxPage;
        
    }
    //overriding abstract method
    static get_menu_options() {
        return [{text_content:"Sales", fn:"scrape_sales"},
                {text_content:"Flash Deals", fn:"scrape_flash"}];
    }
    //overriding asbestos
    static async scrape_product_page(product) {
        const product_req_config = this.get_product_req_config(product);
        return await this.scrape_product_page_w_axios(product_req_config);
    }
    //MENU OPTIONS
    static async scrape_sales() {
        return await this.scrape_products_from_sales_pages(this.get_sales_page_req_config);
    }

    static async scrape_flash() {
        return await this.scrape_products_from_sales_pages(this.get_flash_page_req_config);
    }
    //

    static get_sales_page_req_config(page_num = 1) {
        const page_tag = (page_num > 1) ? `page%3D${page_num}%26` : '';
        const page_query = (page_num > 1) ? `page=${page_num}&` : '';
        return {
            method: 'get',
            maxBodyLength: Infinity,
            url: `https://www.walmart.com/orchestra/snb/graphql/Deals/c55a1fe201e7664a8781bd5abc73d88d3fd083ebda8ed5ce6fc94428ef7cd08e/deals?variables=%7B%22id%22%3A%22%22%2C%22dealsId%22%3A%22deals%22%2C%22page%22%3A${page_num}%2C%22mosaicPage%22%3A1%2C%22affinityOverride%22%3A%22default%22%2C%22prg%22%3A%22desktop%22%2C%22facet%22%3A%22%22%2C%22catId%22%3A%22%22%2C%22seoPath%22%3A%22%2Fshop%2Fdeals%3F${page_tag}affinityOverride%3Ddefault%22%2C%22ps%22%3A40%2C%22ptss%22%3A%22%22%2C%22trsp%22%3A%22%22%2C%22min_price%22%3A%22%22%2C%22max_price%22%3A%22%22%2C%22sort%22%3A%22best_match%22%2C%22beShelfId%22%3A%22%22%2C%22recall_set%22%3A%22%22%2C%22module_search%22%3A%22%22%2C%22storeSlotBooked%22%3A%22%22%2C%22additionalQueryParams%22%3A%7B%22isMoreOptionsTileEnabled%22%3Atrue%7D%2C%22searchParams%22%3A%7B%22id%22%3A%22%22%2C%22dealsId%22%3A%22deals%22%2C%22query%22%3A%22%22%2C%22page%22%3A${page_num}%2C%22mosaicPage%22%3A1%2C%22affinityOverride%22%3A%22default%22%2C%22prg%22%3A%22desktop%22%2C%22facet%22%3A%22%22%2C%22catId%22%3A%22%22%2C%22seoPath%22%3A%22%2Fshop%2Fdeals%3F${page_tag}affinityOverride%3Ddefault%22%2C%22ps%22%3A40%2C%22ptss%22%3A%22%22%2C%22trsp%22%3A%22%22%2C%22min_price%22%3A%22%22%2C%22max_price%22%3A%22%22%2C%22sort%22%3A%22best_match%22%2C%22beShelfId%22%3A%22%22%2C%22recall_set%22%3A%22%22%2C%22module_search%22%3A%22%22%2C%22storeSlotBooked%22%3A%22%22%2C%22additionalQueryParams%22%3A%7B%22isMoreOptionsTileEnabled%22%3Atrue%7D%2C%22cat_id%22%3A%22%22%2C%22_be_shelf_id%22%3A%22%22%2C%22pageType%22%3A%22DealsPage%22%7D%2C%22query%22%3Anull%2C%22pageType%22%3A%22DealsPage%22%2C%22fetchSkyline%22%3Atrue%2C%22enablePortableFacets%22%3Atrue%2C%22enableFacetCount%22%3Atrue%2C%22tenant%22%3A%22WM_GLASS%22%7D`,
            headers: { 
              'authority': 'www.walmart.com', 
              'accept': 'application/json', 
              'accept-language': 'en-US', 
              'content-type': 'application/json', 
              'cookie': 'ACID=4b2c0acb-8698-4507-9f58-07fa4ef635bc; hasACID=true; abqme=true; vtc=a3YaFX8ZfrzKC14pIk5b4s; _pxhd=7bf5818491961c73a9576e432dcdc3ee747f279ab7e0dc1b700055a1801d4231:f6a89994-11eb-11ee-b90e-03c538a2e281; _astc=b750d2e3e78502e9b48cd3a2253ff68f; pxcts=02afd287-1240-11ee-b2c4-6344454f4242; _pxvid=f6a89994-11eb-11ee-b90e-03c538a2e281; AMCVS_B5281C8B53309CEF0A490D4D%40AdobeOrg=1; AMCV_B5281C8B53309CEF0A490D4D%40AdobeOrg=1176715910%7CMCIDTS%7C19533%7CMCMID%7C01466945093744813668611726350846013182%7CMCOPTOUT-1687592166s%7CNONE%7CvVersion%7C5.4.0; brwsr=8ae6c21c-19f3-11ee-9ba4-6f5a11c47a20; wmlh=d6587b60fa8983602ccb3e32ae93a2051a6813d26c335a6d4ca8b440941e0837; locGuestData=eyJpbnRlbnQiOiJTSElQUElORyIsImlzRXhwbGljaXQiOmZhbHNlLCJzdG9yZUludGVudCI6IlBJQ0tVUCIsIm1lcmdlRmxhZyI6ZmFsc2UsImlzRGVmYXVsdGVkIjpmYWxzZSwicGlja3VwIjp7Im5vZGVJZCI6IjIwOSIsInRpbWVzdGFtcCI6MTY4NzU0MTU2NDkzMiwic2VsZWN0aW9uVHlwZSI6IkxTX1NFTEVDVEVEIn0sInBvc3RhbENvZGUiOnsidGltZXN0YW1wIjoxNjg3NTQxNTY0OTMyLCJiYXNlIjoiNzI5NDkifSwibXAiOltdLCJ2YWxpZGF0ZUtleSI6InByb2Q6djI6NGIyYzBhY2ItODY5OC00NTA3LTlmNTgtMDdmYTRlZjYzNWJjIn0%3D; _m=9; TBV=7; dimensionData=783; _sp_id.ad94=db07fd6b-1746-4320-89f1-d80fd194463f.1687714208.15.1696468040.1696132881.7a0c4126-7449-4e2b-9b7d-906297cd9787; userAppVersion=us-web-1.102.0-0f3d752097f13fd03499487f7cfc0f9ff879d809-1005; AID=wmlspartner%3D0%3Areflectorid%3D0000000000000000000000%3Alastupd%3D1696648273158; akavpau_p1=1696648884~id=7d41bfad4bb2f6bf1493acada6238ebe; bstc=U00n9Fj6Ya1W1HSaZJjjX8; xpa=-oUgG|1WKsz|4oEVY|59tZU|7qUrE|9FX95|Au6pf|BXyh-|BukPC|DNWch|DkS7Z|FzTTw|IXVff|Jw2Ba|KXxKl|KvYZX|N3ofr|O5h3M|PLRdE|Pm4tk|QpMSg|R--ax|RYq-N|THB7r|TL357|TyIbe|Uu0h6|VFZ_-|XBDLO|YnYws|ZQWjT|gJJ0D|hpQTO|htn72|i3vYq|ibyjh|lEUOy|nQBrq|qK3OG|qt9AI|yUqGy|yXP-R; exp-ck=-oUgG11WKsz14oEVY159tZU17qUrE1Au6pf1BXyh-2BukPC1DNWch1IXVff1Jw2Ba1KvYZX1O5h3M1Pm4tk1QpMSg1RYq-N1TyIbe1VFZ_-2YnYws4gJJ0D1hpQTO1ibyjh2lEUOy1nQBrq1qt9AI1yXP-R1; ak_bmsc=F8A6D06F9DFC4EAACE2C443CB9C21D2C~000000000000000000000000000000~YAAQCBkhF2wPWQ6LAQAAXvNCERUjY7CiDaGhAfsjgfDuF2MZJqhtZxTvAuJZBfFMHOc8zz2fSrniY6CgZ9LbJ5H5/rLOhI3UIYul7AgfsPnySzQU6sGrfht4skZZmWc7ThpnNGKnOhXyOux6gik1cFLdUbNW1Enz9e1vKgG9omR856Xsx+yo9Qsm4iE/rplqGWGNA47AYa1EGGw+sDoxuPUobwwqer/K+2yNJJL5PisEfhsyEjXGBVUCtLXJX0Gb6DbUYCc8U2mNwxo1NiNiYDcUObsQ1eWD7aWgXZRXZtWb7umQ93pBh3BUJy0oWuRpxsx4L6wzUfoFnfhJ/pY4fgyk0rDpW/WnAoDvmvXCjxybXFybWwUgv+OvYheX/OemouC0g2xgkTd9tA==; auth=MTAyOTYyMDE4wo%2FHLRNq36tufGLUDY%2BOWGl%2BRCQrH5v4uA6KJ2JaY6ZntXpNRysJ8UL0c%2BnM5mpDZa0kV196lP1jSG7fZx4jWe%2BgFzDZ%2FXTBBtfc6ieG%2BHAmVSCgJaVisbb3N9aBaZkW767wuZloTfhm7Wk2Kcjygv699%2F6tFVwuL3qJB39WKV%2Fn8Tj3JYeuWSErufg%2Bbm3yl0KE%2BV266zPvSrpbgJ3TAcfvcFy9aLw8Acd0Z5A8HU0UMk70P8glgOEpLOprhDfMDCcb9mgycy9jtT1uIyOBHavbX9U13qJGyiH5sZSA3jpZ4VglsKOZJV2SneWbFP5yggIq%2B9sZNo4f6hthlt1q9r6Cndc%2Bi7s4fNJ%2BlAmbtCz3NY2aA%2FUFX7mmlSV%2FwxSKEi447uUlKzgYOfdIzp2n3EjyrOXbKKhH072NS%2FW0j%2FU%3D; locDataV3=eyJpc0RlZmF1bHRlZCI6ZmFsc2UsImlzRXhwbGljaXQiOmZhbHNlLCJpbnRlbnQiOiJTSElQUElORyIsInBpY2t1cCI6W3siYnVJZCI6IjAiLCJub2RlSWQiOiIyMDkiLCJkaXNwbGF5TmFtZSI6Ik96YXJrIFN0b3JlIiwibm9kZVR5cGUiOiJTVE9SRSIsImFkZHJlc3MiOnsicG9zdGFsQ29kZSI6IjcyOTQ5IiwiYWRkcmVzc0xpbmUxIjoiMTUxNiBOIDE4dGggU3QiLCJjaXR5IjoiT3phcmsiLCJzdGF0ZSI6IkFSIiwiY291bnRyeSI6IlVTIiwicG9zdGFsQ29kZTkiOiI3Mjk0OS0zNjExIn0sImdlb1BvaW50Ijp7ImxhdGl0dWRlIjozNS41MDM3MDksImxvbmdpdHVkZSI6LTkzLjg0MzgwMX0sImlzR2xhc3NFbmFibGVkIjp0cnVlLCJzY2hlZHVsZWRFbmFibGVkIjpmYWxzZSwidW5TY2hlZHVsZWRFbmFibGVkIjp0cnVlLCJodWJOb2RlSWQiOiIyMDkiLCJzdG9yZUhycyI6IjA2OjAwLTIyOjAwIiwic3VwcG9ydGVkQWNjZXNzVHlwZXMiOlsiUElDS1VQX0NVUkJTSURFIiwiUElDS1VQX0lOU1RPUkUiXSwic2VsZWN0aW9uVHlwZSI6IkxTX1NFTEVDVEVEIn1dLCJzaGlwcGluZ0FkZHJlc3MiOnsibGF0aXR1ZGUiOjM1LjUzMzEsImxvbmdpdHVkZSI6LTkzLjgzLCJwb3N0YWxDb2RlIjoiNzI5NDkiLCJjaXR5IjoiT3phcmsiLCJzdGF0ZSI6IkFSIiwiY291bnRyeUNvZGUiOiJVU0EiLCJnaWZ0QWRkcmVzcyI6ZmFsc2UsInRpbWVab25lIjoiQW1lcmljYS9DaGljYWdvIn0sImFzc29ydG1lbnQiOnsibm9kZUlkIjoiMjA5IiwiZGlzcGxheU5hbWUiOiJPemFyayBTdG9yZSIsImludGVudCI6IlBJQ0tVUCJ9LCJpbnN0b3JlIjpmYWxzZSwicmVmcmVzaEF0IjoxNjk2ODA1MjgyNTY2LCJ2YWxpZGF0ZUtleSI6InByb2Q6djI6NGIyYzBhY2ItODY5OC00NTA3LTlmNTgtMDdmYTRlZjYzNWJjIn0%3D; assortmentStoreId=209; hasLocData=1; mobileweb=0; xpth=x-o-mart%2BB2C~x-o-mverified%2Bfalse; xptc=assortmentStoreId%2B209; xpm=1%2B1696801684%2Ba3YaFX8ZfrzKC14pIk5b4s~%2B0; __cf_bm=jQbFyLQoD4vMvliFKdgcul7HmChInhgja9ssqjlJ.6U-1696801685-0-AW0JwinIdDPP00vr1TZ7pEHN+DiYNVwpqva82RtYx2D1Ha8i1SoCigA8ns7K8zBcQ3NT0aZg1Je+3PmN9rzaoYB323JjUJZgH7es0tVLuc+9; xptwj=qq:53f6eded0656c0f50cfa:WDYKU48tSM6gEWEKZGRIbdI14dTnCwiMWWUKeAJXCpUOkBt5PzQe8Sil3POgRuTyFcx946tWI1MxKGa+9nO7YOtRBX4lpwO36mJ8NauUHqZb/OAxXVpxBboRqAcOPYLTly62NhqfUuYtsfXCTSvrMmkLHmltC6qdy9vwslxCvxYXsi1THwzNyxUR4FdwuownUNyUYT6t7Q==; adblocked=false; _px3=7a8317c21e916d143bde2c598c7d24001e9c157a7c506b0d9ff3f0a895a1c541:u1GZHWz/G4CNWCg+0q6iWlEZeRWZ969viU4ixZ8VwHSOYLZbbJTkRdLXcIRaBVk57PZ56m0xNT69dOSjboh2bg==:1000:Yx+7M+zti2JAs6jUog4RoC32LEjw4F/yUs8TlbE9fFH49jIh/h50OjyUcyiaocexU7DsQOImoHHFe/q3yBzSRBtk2L/rFrllXjbX3YHaE6erf/g6ZQUk2jrnmajP67iargc8K8V245B1FHjOYmj4WVN4QbwoGcBOwrc1Hc7sOvrWnfsglAFDEuQST3d8fs+0guIYwAfmgVAdu0AMpC+v7nbuink/A+VTR4hPd0rt2T0=; _pxde=6f98922cbf49cd99418c693e32000818769fcdf8bd89aa91bef6adb79240d06b:eyJ0aW1lc3RhbXAiOjE2OTY4MDE3Mzc0OTh9; bm_mi=6AF22B3521765B8F66475AD3C87F3C21~YAAQshfdF5hyLfOKAQAAMQdFERVieDTD2dMBajd8xYbh3QZYu22MRThRSm5QgGMMcLhtb2XPW7+eTG/nMz7/pgGTY43UCFm2I4gK+lV9CPbRIdma1V/OifnLZIaQUR2Q4C4bruewmR07DDrU0wRJJ40brqeZEzvIeua4+xxAgYzqKyEXh6iEM07S5rf/4b37l3GHdyUSDhHh7On7GSuZaNJL6NItijZY+s47c45MZiwAG6XCdzMc/7rCr9dsK4mrAT1jhvl/1veQsrYfkYcOkKT8Ob0vVsruVCJauzbJj69RIpbEZvwkrqkhV755V8fJjEfOHVshsh09~1; com.wm.reflector="reflectorid:imp_ULvQUAxqbxyPRPo39GxywyMsUkF1ecylu32yTw0@lastupd:1696801819000@firstcreate:1691788149922"; xptwg=417665392:134F3A1C7E90360:30E05CA:667B79CD:7D2E2C34:FA0DE3CE:; TS012768cf=017b8ae065a1c8987c61e82b54682bfe3012cd6df98a8593e4552fa22752416718bebd23f96cf51b97d8f8231ba54f8348f1049e06; TS01a90220=017b8ae065a1c8987c61e82b54682bfe3012cd6df98a8593e4552fa22752416718bebd23f96cf51b97d8f8231ba54f8348f1049e06; TS2a5e0c5c027=08458c2c8aab2000a0956602cd48b17c84ada8464fe5bfab8cbd7502b3d7cfcbb50e91186ad1db94089994d6fb1130006c87416b1ecf92cea1f5f15dd016aa0c6ff28837458b2155f20e3984ab18cc6ea00b1ba8c92b936b9431ede312e687d8; akavpau_p2=1696802419~id=d54d2d2170648ae02d3ab1557e35050c; bm_sv=4CDF325A23767B363FF43CB9A56EDACD~YAAQshfdF7VyLfOKAQAAkQxFERUf5ycgzlez9QoHNkS/IevYelIt7EMBJsd6qJbUPAqdzHxLpiH56voVWHov8oDUcF/4E11XoooCY7WPtEtz0OA6Sc/Od8eUYRwvjr2bamqEyiYZkqq+y0c4TJGwmgU1sa7PtGCG70k5LKOPReVGFoSHAOf7S6tM+0DN2HyAJqqlsHUdTXGlo/EXfq4GlaF/W+RFVA188VIH9938vjZFgqX+7UDlLFUdwXoOCpBGgL4=~1; TS01a90220=01fff05df41a8699b3e31c218c719792b911121c67b9f393553812dd3c422c8db4431401ffcb706a06f1fefcd24d4c2991a42e5a23; ak_bmsc=F8A6D06F9DFC4EAACE2C443CB9C21D2C~000000000000000000000000000000~YAAQtRfdF8N1ePWKAQAAaOlFERWzL7knMgxbydqZOqh+0nxabrvnRUa0RFHTAwA1iFSMr3n+TLADPc6L/+IuUGzjhWtKopBHFirW077/R9reD4VSqDCXzgZMzoyHgdgMav1399xTZxAO59bmaBgozQNVuZPk19YZgHZsJ81cgmLvv475aC4vdwDO2ujrQnvHymCxo5mlfBSgMtaLz9r2V9G+sEWyhyOyvfw7r5fxTWWdAv4EnvK+kYnsXlV2yXxL4cnejX3uOS06y9Kj1DNdOP43zvx01J6Ft1Laqq8/SiD6v+WGdptofArTTCQFMHwiEeNUdHt1g1nZc+FgdNt0Fyzmdp80J5xJliIzRBoAUtKs0OG6HWPVgp+Eh9Ev2aQ0jCjiuLzoEac1unjBPjldoKiQcpqsuHL0J4a0; bm_sv=4CDF325A23767B363FF43CB9A56EDACD~YAAQtRfdF5N1ePWKAQAAeD9FERUi774BERtNDyksF+LlAQfBTZxPU6kQRREVpM/TeKSHUOJjamcvzy8uhNQ6bcNP7xvYFUGal7E4CxmbVn5wSV59CsUtWvxAc7qKJtUojA1uQYa+r3FHD9VVgxrmrhZeC0uhl/e9DhB+V3qihFnKZKqCP4Lix10oXFtDvLv2HSuYxe3jGpAL3iG6xqNk4q7hLAX9Ez86kKt44lfzIwI2xksZVNoUizU14gWrKjpok+g=~1; bstc=U00n9Fj6Ya1W1HSaZJjjX8; com.wm.reflector="reflectorid:imp_ULvQUAxqbxyPRPo39GxywyMsUkF1ecylu32yTw0@lastupd:1696801876000@firstcreate:1691788149922"; exp-ck=-oUgG11WKsz14oEVY159tZU17qUrE1Au6pf1BXyh-2BukPC1DNWch1IXVff1Jw2Ba1KvYZX1O5h3M1Pm4tk1QpMSg1RYq-N1TyIbe1VFZ_-2YnYws4gJJ0D1hpQTO1ibyjh2lEUOy1nQBrq1qt9AI1yXP-R1; locGuestData=eyJpbnRlbnQiOiJTSElQUElORyIsImlzRXhwbGljaXQiOmZhbHNlLCJzdG9yZUludGVudCI6IlBJQ0tVUCIsIm1lcmdlRmxhZyI6ZmFsc2UsImlzRGVmYXVsdGVkIjpmYWxzZSwicGlja3VwIjp7Im5vZGVJZCI6IjIwOSIsInRpbWVzdGFtcCI6MTY4NzU0MTU2NDkzMiwic2VsZWN0aW9uVHlwZSI6IkxTX1NFTEVDVEVEIn0sInBvc3RhbENvZGUiOnsidGltZXN0YW1wIjoxNjg3NTQxNTY0OTMyLCJiYXNlIjoiNzI5NDkifSwibXAiOltdLCJ2YWxpZGF0ZUtleSI6InByb2Q6djI6NGIyYzBhY2ItODY5OC00NTA3LTlmNTgtMDdmYTRlZjYzNWJjIn0%3D; mobileweb=0; vtc=a3YaFX8ZfrzKC14pIk5b4s; xpa=-oUgG|1WKsz|4oEVY|59tZU|7qUrE|9FX95|Au6pf|BXyh-|BukPC|DNWch|DkS7Z|FzTTw|IXVff|Jw2Ba|KXxKl|KvYZX|N3ofr|O5h3M|PLRdE|Pm4tk|QpMSg|R--ax|RYq-N|THB7r|TL357|TyIbe|Uu0h6|VFZ_-|XBDLO|YnYws|ZQWjT|gJJ0D|hpQTO|htn72|i3vYq|ibyjh|lEUOy|nQBrq|qK3OG|qt9AI|yUqGy|yXP-R; xpm=1%2B1696801684%2Ba3YaFX8ZfrzKC14pIk5b4s~%2B0; xptc=assortmentStoreId%2B209; xpth=x-o-mart%2BB2C~x-o-mverified%2Bfalse; xptwg=1187785713:1FD753C00092210:5098BF3:1C864F7:DA682117:5DE3E602:; xptwj=qq:98ab43ac9931b610fdb1:Bloqpe9NJy3LCFETY6BZ5ahKZzVH7Dl+beosQZ1GDKkiYCLabqlYyKtoyZFxbPvsGw/NO3hv09ZikkHvsT/647JELLj8XRIIftLNrBHt7eAFRW3/oFZU8pIdm0kK1KZNsOkMYngJWNADxBjvnPW2X16YxNSCfqCjcqiq48+DIyJYKcJZBMCijXV/ACA5P+itOmCGLEc=; TS012768cf=01fff05df41a8699b3e31c218c719792b911121c67b9f393553812dd3c422c8db4431401ffcb706a06f1fefcd24d4c2991a42e5a23; TS2a5e0c5c027=0819f57c47ab200024ec438935119057e1e3258f7b7ea1b3d128e8d4932011a63124dc85762f416a086d2001e211300087aa348300f3620f15222f76b24664d939bcdf46f67d73a8ac9246cc97116a11176771f7240c85bab5d411bcf7f48e28; abqme=true; akavpau_p2=1696802476~id=b3d0507db2817bb98c4cc3ec5558397a', 
              'device_profile_ref_id': 'rZt5QMxbG3KEYpEhBe1HOhrYhP04ET51wn9w', 
              'downlink': '10', 
              'dpr': '2', 
              'referer': `https://www.walmart.com/shop/deals?${page_query}affinityOverride=default`, 
              'sec-ch-ua': '"Google Chrome";v="117", "Not;A=Brand";v="8", "Chromium";v="117"', 
              'sec-ch-ua-mobile': '?0', 
              'sec-ch-ua-platform': '"macOS"', 
              'sec-fetch-dest': 'empty', 
              'sec-fetch-mode': 'cors', 
              'sec-fetch-site': 'same-origin', 
              'traceparent': '00-126f3ce312b3024846b4ec526aa0102d-1cf122e21d33f911-00', 
              'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/117.0.0.0 Safari/537.36', 
              'wm_mp': 'true', 
              'wm_page_url': `https://www.walmart.com/shop/deals?${page_query}affinityOverride=default`, 
              'wm_qos.correlation_id': 'OBvaB50DbO-eYg5UDnSyTOJbaw_w5U4bn2yh', 
              'x-apollo-operation-name': 'Deals', 
              'x-enable-server-timing': '1', 
              'x-latency-trace': '1', 
              'x-o-bu': 'WALMART-US', 
              'x-o-ccm': 'server', 
              'x-o-correlation-id': 'OBvaB50DbO-eYg5UDnSyTOJbaw_w5U4bn2yh', 
              'x-o-gql-query': 'query Deals', 
              'x-o-mart': 'B2C', 
              'x-o-platform': 'rweb', 
              'x-o-platform-version': 'us-web-1.102.0-0f3d752097f13fd03499487f7cfc0f9ff879d809-1005', 
              'x-o-segment': 'oaoh'
            }
        };
    }

    static get_flash_page_req_config(page_num = 2) { 
        return {
            method: 'get',
            maxBodyLength: Infinity,
            url: `https://www.walmart.com/orchestra/snb/graphql/Deals/b69a8344058a0778b8be605a3be5df85c236da708b2c27f2abed5d05d1579bc0/deals?variables=%7B%22id%22%3A%22%22%2C%22dealsId%22%3A%22deals%2Fflash-picks%22%2C%22page%22%3A${page_num}%2C%22mosaicPage%22%3A1%2C%22affinityOverride%22%3A%22default%22%2C%22prg%22%3A%22desktop%22%2C%22facet%22%3A%22%22%2C%22catId%22%3A%22%22%2C%22seoPath%22%3A%22%2Fshop%2Fdeals%2Fflash-picks%3Fathcpid%3Deeb79392-2a4b-463f-9b5a-f0da85fa4b7f%26athpgid%3DAthenaGlassHomePageDesktopV1%26athznid%3DathenaModuleZone%26athmtid%3DAthenaItemCarousel%26athtvid%3D3%26athena%3Dtrue%26affinityOverride%3Ddefault%26page%3D${page_num}%22%2C%22ps%22%3A40%2C%22ptss%22%3A%22%22%2C%22trsp%22%3A%22%22%2C%22min_price%22%3A%22%22%2C%22max_price%22%3A%22%22%2C%22sort%22%3A%22best_match%22%2C%22beShelfId%22%3A%22%22%2C%22recall_set%22%3A%22%22%2C%22module_search%22%3A%22%22%2C%22storeSlotBooked%22%3A%22%22%2C%22additionalQueryParams%22%3A%7B%22isMoreOptionsTileEnabled%22%3Atrue%7D%2C%22athcpid%22%3A%22eeb79392-2a4b-463f-9b5a-f0da85fa4b7f%22%2C%22athpgid%22%3A%22AthenaGlassHomePageDesktopV1%22%2C%22athznid%22%3A%22athenaModuleZone%22%2C%22athmtid%22%3A%22AthenaItemCarousel%22%2C%22athtvid%22%3A%223%22%2C%22athena%22%3A%22true%22%2C%22searchParams%22%3A%7B%22id%22%3A%22%22%2C%22dealsId%22%3A%22deals%2Fflash-picks%22%2C%22query%22%3A%22%22%2C%22page%22%3A${page_num}%2C%22mosaicPage%22%3A1%2C%22affinityOverride%22%3A%22default%22%2C%22prg%22%3A%22desktop%22%2C%22facet%22%3A%22%22%2C%22catId%22%3A%22%22%2C%22seoPath%22%3A%22%2Fshop%2Fdeals%2Fflash-picks%3Fathcpid%3Deeb79392-2a4b-463f-9b5a-f0da85fa4b7f%26athpgid%3DAthenaGlassHomePageDesktopV1%26athznid%3DathenaModuleZone%26athmtid%3DAthenaItemCarousel%26athtvid%3D3%26athena%3Dtrue%26affinityOverride%3Ddefault%26page%3D${page_num}%22%2C%22ps%22%3A40%2C%22ptss%22%3A%22%22%2C%22trsp%22%3A%22%22%2C%22min_price%22%3A%22%22%2C%22max_price%22%3A%22%22%2C%22sort%22%3A%22best_match%22%2C%22beShelfId%22%3A%22%22%2C%22recall_set%22%3A%22%22%2C%22module_search%22%3A%22%22%2C%22storeSlotBooked%22%3A%22%22%2C%22additionalQueryParams%22%3A%7B%22isMoreOptionsTileEnabled%22%3Atrue%7D%2C%22athcpid%22%3A%22eeb79392-2a4b-463f-9b5a-f0da85fa4b7f%22%2C%22athpgid%22%3A%22AthenaGlassHomePageDesktopV1%22%2C%22athznid%22%3A%22athenaModuleZone%22%2C%22athmtid%22%3A%22AthenaItemCarousel%22%2C%22athtvid%22%3A%223%22%2C%22athena%22%3A%22true%22%2C%22cat_id%22%3A%22%22%2C%22_be_shelf_id%22%3A%22%22%2C%22pageType%22%3A%22DealsPage%22%7D%2C%22query%22%3Anull%2C%22pageType%22%3A%22DealsPage%22%2C%22fetchSkyline%22%3Atrue%2C%22enablePortableFacets%22%3Atrue%2C%22enableFacetCount%22%3Atrue%2C%22tenant%22%3A%22WM_GLASS%22%7D`,
            headers: {
                'authority': 'www.walmart.com', 
                'accept': 'application/json', 
                'accept-language': 'en-US', 
                'content-type': 'application/json', 
                'cookie': 'ACID=4b2c0acb-8698-4507-9f58-07fa4ef635bc; hasACID=true; abqme=true; vtc=a3YaFX8ZfrzKC14pIk5b4s; _pxhd=7bf5818491961c73a9576e432dcdc3ee747f279ab7e0dc1b700055a1801d4231:f6a89994-11eb-11ee-b90e-03c538a2e281; TBV=7; _astc=b750d2e3e78502e9b48cd3a2253ff68f; pxcts=02afd287-1240-11ee-b2c4-6344454f4242; _pxvid=f6a89994-11eb-11ee-b90e-03c538a2e281; AMCVS_B5281C8B53309CEF0A490D4D%40AdobeOrg=1; AMCV_B5281C8B53309CEF0A490D4D%40AdobeOrg=1176715910%7CMCIDTS%7C19533%7CMCMID%7C01466945093744813668611726350846013182%7CMCOPTOUT-1687592166s%7CNONE%7CvVersion%7C5.4.0; akavpau_p1=1688225693~id=b7cc1b6b0b56492ec47062960d5d6191; _sp_id.ad94=db07fd6b-1746-4320-89f1-d80fd194463f.1687714208.7.1688229876.1688060869.3ddb5265-da19-45cb-8b95-2b4fc23ac5e7; brwsr=8ae6c21c-19f3-11ee-9ba4-6f5a11c47a20; assortmentStoreId=209; hasLocData=1; locGuestData=eyJpbnRlbnQiOiJTSElQUElORyIsImlzRXhwbGljaXQiOmZhbHNlLCJzdG9yZUludGVudCI6IlBJQ0tVUCIsIm1lcmdlRmxhZyI6ZmFsc2UsImlzRGVmYXVsdGVkIjpmYWxzZSwicGlja3VwIjp7Im5vZGVJZCI6IjIwOSIsInRpbWVzdGFtcCI6MTY4NzU0MTU2NDkzMiwic2VsZWN0aW9uVHlwZSI6IkxTX1NFTEVDVEVEIn0sInBvc3RhbENvZGUiOnsidGltZXN0YW1wIjoxNjg3NTQxNTY0OTMyLCJiYXNlIjoiNzI5NDkifSwidmFsaWRhdGVLZXkiOiJwcm9kOnYyOjRiMmMwYWNiLTg2OTgtNDUwNy05ZjU4LTA3ZmE0ZWY2MzViYyJ9; userAppVersion=main-1.85.0-5bc8f3-0713T0626; bstc=XQfgQaB_uZEAl9lcDXcvLI; mobileweb=0; xpth=x-o-mart%2BB2C~x-o-mverified%2Bfalse; xpa=6cfXU|ALBAK|BukPC|DBakN|JTAml|KvYZX|M6b6Z|PLRdE|SJnbK|X78hm|XW82V|YnYws|_4HRC|_NzN8|_uNDy|c1KYM|k2HTF|kKjwb|mFohB|pLKtx|qUXqn|r3ujb|wXvq0|z0fM4; exp-ce=1; exp-ck=6cfXU1BukPC1DBakN1KvYZX1M6b6Z1SJnbK1XW82V1YnYws4_NzN81_uNDy1k2HTF1mFohB1r3ujb1z0fM42; x-ak-eh=true; xptc=assortmentStoreId%2B209; bm_mi=2D911C9A6AA82148CC64A0D097215DA6~YAAQq2TNF4PBbiiJAQAAjmo5WhRCSafzcnO6WcewsgdYpaD10uKDFAiKj8O2Y9nd8xBy0ndA0QdRUm1W93L2UxdIbr5J3YrzRF9eMWO746FCIAn6Imw/+rkURcgfJorvggZrALYXmlldZcKzoGZyHQTWszpcbtVZOf+lIVD12JX2gNdCeIhcSzYrqgQtZhLU5wpbgIKHk1ZqlVAbd3Brp3jgVgl3AcF5ylF7eSCXtMIsMeig8AHzyV4QHAhyIaVq+8zMBMROjTgxr5bS2CNYO1VKrWmuKSYQDNtuWiVlvK1CSRKOeeLGCXSuVsPx3iCLdw7Xa8CFaE/DTwRnYLDvxbzIiaXK~1; bm_sv=F2424FC07A48B12661196F654526A0E4~YAAQq2TNF0vEbiiJAQAA9Zs5WhQ+WJ0fyWc/2hsp/Kbpz0SpfGlWPen9rDHbdcQ9092ar1V864xrVFqtKRm91uf8m80SviKeGqnTFBKfmZrqQnuHKRV4W0oXiHELZa6r20lw4GT8xrwvzEZmppgdIuWuhbdQdOopljbDlhw/dy7iXWghBKP/G9URg3WUL9qnsqVmp5vQ5E31WfeHLeR5XBCtoCsVRSM6WqIlaVnhtcCCkhG2abqR2WgopbfjKiW5tg==~1; ak_bmsc=CF4E57EFA79345734602CCE63D8EE556~000000000000000000000000000000~YAAQq2TNF6fFbiiJAQAAn7Y5WhTbJx9YLlZholjIlF4bHlyj+fquBhG0eCSsSVecmy81La43cV/rUmDAHY70wV8n73kgxKC5Y5Yyi2sfNEkAns/DPakRa3ORRmuN/GwTh4S21wiIYfpeHkzwwOdKwqkFGEK0qdQUsxFsZ4W6aleG98kt6Gg8/5szg5MKKBr9mgeVxLpZGGqOvIfSQMN8AdZVbBYT9rt35ZtWVBaLLySGPuRouG3uVsitD+RM1QF7npX2jeZYB4BKu4Azc77tfaDGACJsQFYPkdX/5vUCogSLS+UqOrQwOS/rt+qPo1Nv20exlj9nuqAPIIKjNn5ZS2uCe6ROtfRRtj91RKbCDs7ZkJ1ECZbeWlyNDgKcHLUnbVhujTkKo/dfPB5wM9dbYhN7/V5Cd+kDnGkoXUJ14qT20/uU8p0aS/yZJPoMqpdsyCixgehX; AID=wmlspartner%3D0%3Areflectorid%3D0000000000000000000000%3Alastupd%3D1689438905701; xpm=1%2B1689439499%2Ba3YaFX8ZfrzKC14pIk5b4s~%2B0; wmlh=d6587b60fa8983602ccb3e32ae93a2051a6813d26c335a6d4ca8b440941e0837; auth=MTAyOTYyMDE4wo%2FHLRNq36tufGLUDY%2BOWGl%2BRCQrH5v4uA6KJ2JaY6ZntXpNRysJ8UL0c%2BnM5mpDZa0kV196lP1jSG7fZx4jWe%2BgFzDZ%2FXTBBtfc6ieG%2BHAmVSCgJaVisbb3N9aBaZkW767wuZloTfhm7Wk2KcjygobRHThsmZk%2BGcqTfIab85RscjyxPYLzImAffF7rasshAijDc%2BdO83v5jPD%2FilBQcpXLzI4jC4vugLB6SlykfzEUMk70P8glgOEpLOprhDfMDCcb9mgycy9jtT1uIyOBHa7bgRzh%2FYMDPomg8cRpEyughYU2U0E8YS%2FZY9kjtxcX%2BU7h9geizyj72h97rVbUYq0tB8cj9sLI1VidvQ20PrYDwOI3d49Nai7GOGN6TnvzP2xjDmjEXULrue9cVHiq7JE5WBBdZBCyKnCQAR7o6eg%3D; locDataV3=eyJpc0RlZmF1bHRlZCI6ZmFsc2UsImlzRXhwbGljaXQiOmZhbHNlLCJpbnRlbnQiOiJTSElQUElORyIsInBpY2t1cCI6W3siYnVJZCI6IjAiLCJub2RlSWQiOiIyMDkiLCJkaXNwbGF5TmFtZSI6Ik96YXJrIFN0b3JlIiwibm9kZVR5cGUiOiJTVE9SRSIsImFkZHJlc3MiOnsicG9zdGFsQ29kZSI6IjcyOTQ5IiwiYWRkcmVzc0xpbmUxIjoiMTUxNiBOIDE4dGggU3QiLCJjaXR5IjoiT3phcmsiLCJzdGF0ZSI6IkFSIiwiY291bnRyeSI6IlVTIiwicG9zdGFsQ29kZTkiOiI3Mjk0OS0zNjExIn0sImdlb1BvaW50Ijp7ImxhdGl0dWRlIjozNS41MDM3MDksImxvbmdpdHVkZSI6LTkzLjg0MzgwMX0sImlzR2xhc3NFbmFibGVkIjp0cnVlLCJzY2hlZHVsZWRFbmFibGVkIjpmYWxzZSwidW5TY2hlZHVsZWRFbmFibGVkIjp0cnVlLCJodWJOb2RlSWQiOiIyMDkiLCJzdG9yZUhycyI6IjA2OjAwLTIyOjAwIiwic3VwcG9ydGVkQWNjZXNzVHlwZXMiOlsiUElDS1VQX0lOU1RPUkUiLCJQSUNLVVBfQ1VSQlNJREUiXSwic2VsZWN0aW9uVHlwZSI6IkxTX1NFTEVDVEVEIn1dLCJzaGlwcGluZ0FkZHJlc3MiOnsibGF0aXR1ZGUiOjM1LjUzMjgsImxvbmdpdHVkZSI6LTkzLjgyOTcsInBvc3RhbENvZGUiOiI3Mjk0OSIsImNpdHkiOiJPemFyayIsInN0YXRlIjoiQVIiLCJjb3VudHJ5Q29kZSI6IlVTQSIsImdpZnRBZGRyZXNzIjpmYWxzZX0sImFzc29ydG1lbnQiOnsibm9kZUlkIjoiMjA5IiwiZGlzcGxheU5hbWUiOiJPemFyayBTdG9yZSIsImludGVudCI6IlBJQ0tVUCJ9LCJpbnN0b3JlIjpmYWxzZSwicmVmcmVzaEF0IjoxNjg5NDQ2MDQwMzEzLCJ2YWxpZGF0ZUtleSI6InByb2Q6djI6NGIyYzBhY2ItODY5OC00NTA3LTlmNTgtMDdmYTRlZjYzNWJjIn0%3D; xptwj=qq:7f31f3be575bfb284d83:N4qW//I+OxHuCEJdxQFg05Qhrp6gx8Q9/c29x56XqYO/MKD+i0llzsUjW43CsiKxdr/K8UfaIyPP7555oNvS+2ThRH/Ifya48vhc8NsLdDuKGDBcTkoGEzJ4He+O826Sby3/4HGcC/LS+OibJgEEQIIufTNCmvJhTaKE57pmBudjtmeVOeegdyDg/MYc61dEWn+6a64=; adblocked=true; com.wm.reflector="reflectorid:imp_ULvQUAxqbxyPRPo39GxywyMsUkF2tFxtu32yTw0@lastupd:1689442479000@firstcreate:1688424473380"; xptwg=2151940342:DF9E5DA5575B08:2387DF8:89B7F73D:C49A3F50:6780184C:; TS01a90220=01e51bebd520efcdfd8bfe5b49348414bf9dc31895bab1123ac7ec5bd1e7ac55ad169c90b6f987e8e815fcef7854d0b4c476436a17; TS012768cf=01cb1199b1ebaba05378cd9e2e6b7f1529c5f99125198b9dc146379b1500220dd893e9353ae1bbe53187e232e390988ed07d102e61; TS2a5e0c5c027=0851107c88ab20002150aa63e3da92829359829de2d8296f4b18e196a23e479caeebfe02718ee71d08fa6571b8113000728864f16f1af9d1b3962fc0e90614fb4990048af1a9f766d5435b5a093b01dfddb194ea59b1d80b92fb37d63742af89; akavpau_p2=1689443096~id=f19fab44b53591a3e9724462a198b59f; TS01a90220=019986c19a9ebec17f018461babe32f1f8ec8a4b684373fb80c9c6878ece82efc6d6526901103608929d36c58376af9596d2e97379; bstc=XQfgQaB_uZEAl9lcDXcvLI; com.wm.reflector="reflectorid:imp_ULvQUAxqbxyPRPo39GxywyMsUkF2tFxtu32yTw0@lastupd:1689442632000@firstcreate:1688424473380"; exp-ce=1; exp-ck=6cfXU1BukPC1DBakN1KvYZX1M6b6Z1SJnbK1XW82V1YnYws4_NzN81_uNDy1k2HTF1mFohB1r3ujb1z0fM42; mobileweb=0; vtc=a3YaFX8ZfrzKC14pIk5b4s; xpa=6cfXU|ALBAK|BukPC|DBakN|JTAml|KvYZX|M6b6Z|PLRdE|SJnbK|X78hm|XW82V|YnYws|_4HRC|_NzN8|_uNDy|c1KYM|k2HTF|kKjwb|mFohB|pLKtx|qUXqn|r3ujb|wXvq0|z0fM4; xpm=1%2B1689439499%2Ba3YaFX8ZfrzKC14pIk5b4s~%2B0; xptc=assortmentStoreId%2B209; xpth=x-o-mart%2BB2C~x-o-mverified%2Bfalse; xptwg=1055684919:1D460E530216820:4A6BAED:4EA1769:26BD934D:6BA202A6:; TS012768cf=019986c19a9ebec17f018461babe32f1f8ec8a4b684373fb80c9c6878ece82efc6d6526901103608929d36c58376af9596d2e97379; TS2a5e0c5c027=08d8253fd0ab2000803e5b62d4238bf765e5854ca981d37f2ac21e38ca76bfc0d2545e5c67471c3b0813be367d11300035b37ef437689e827dbb448b3e9a8ab644cbc083d49022394335e4548f71425008ff075ac2d74676b9973d12fca78458; abqme=true; akavpau_p2=1689443232~id=14969d4a4bfa96e25148f59c2b3c0764', 
                'device_profile_ref_id': '78AOD2CzRzN2UG-EnzlW2K3OK8ADvJp5oD45', 
                'referer': 'https://www.walmart.com/shop/deals/flash-picks?athcpid=eeb79392-2a4b-463f-9b5a-f0da85fa4b7f&athpgid=AthenaGlassHomePageDesktopV1&athznid=athenaModuleZone&athmtid=AthenaItemCarousel&athtvid=3&athena=true&affinityOverride=default&page=2', 
                'sec-ch-ua': '"Not.A/Brand";v="8", "Chromium";v="114", "Google Chrome";v="114"', 
                'sec-ch-ua-mobile': '?0', 
                'sec-ch-ua-platform': '"macOS"', 
                'sec-fetch-dest': 'empty', 
                'sec-fetch-mode': 'cors', 
                'sec-fetch-site': 'same-origin', 
                'traceparent': '00-38328861f06618777c8e3ba5d3a6ff5c-851ccc167d2785ce-00', 
                'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36', 
                'wm_mp': 'true', 
                'wm_page_url': 'https://www.walmart.com/shop/deals/flash-picks?athcpid=eeb79392-2a4b-463f-9b5a-f0da85fa4b7f&athpgid=AthenaGlassHomePageDesktopV1&athznid=athenaModuleZone&athmtid=AthenaItemCarousel&athtvid=3&athena=true&affinityOverride=default&page=2', 
                'wm_qos.correlation_id': '5UBIeUWXgXfarPCSH53EfGt6eGZPYwLLjqCt', 
                'x-apollo-operation-name': 'Deals', 
                'x-enable-server-timing': '1', 
                'x-latency-trace': '1', 
                'x-o-bu': 'WALMART-US', 
                'x-o-ccm': 'server', 
                'x-o-correlation-id': '5UBIeUWXgXfarPCSH53EfGt6eGZPYwLLjqCt', 
                'x-o-gql-query': 'query Deals', 
                'x-o-mart': 'B2C', 
                'x-o-platform': 'rweb', 
                'x-o-platform-version': 'main-1.85.0-5bc8f3-0713T0626', 
                'x-o-segment': 'oaoh'
            }
        } 
    }

    static get_product_req_config(product) { 

        const pid = product.source.pid;
        const url = product.source.url;
        const pname = url.split('/')[4];

        const regex_url = /athbdg=L\d{4}/;
        let spc_param = regex_url.exec(url);
        const L_code = spc_param ? spc_param[1] : ''; //where [0] holds the full url
        spc_param = `%3Fathbdg%3DL${L_code}`;

        return {
            method: 'get',
            maxBodyLength: Infinity,
            url: `https://www.walmart.com/orchestra/pdp/graphql/ItemById/7dfd4553961e2417e7e0b8cfaeb715814ad3a381f190eaa841000d061dae49af/ip/${pid}?variables=%7B%22channel%22%3A%22WWW%22%2C%22version%22%3A%22v1%22%2C%22pageType%22%3A%22ItemPageGlobal%22%2C%22tenant%22%3A%22WM_GLASS%22%2C%22tempo%22%3A%7B%22targeting%22%3A%22%257B%2522userState%2522%253A%2522loggedIn%2522%257D%22%2C%22params%22%3A%5B%7B%22key%22%3A%22expoVars%22%2C%22value%22%3A%22expoVariationValue%22%7D%2C%7B%22key%22%3A%22expoVars%22%2C%22value%22%3A%22expoVariationValue2%22%7D%5D%7D%2C%22p13nCls%22%3A%7B%22pageId%22%3A%22${pid}%22%2C%22p13NCallType%22%3A%22ATF%22%2C%22userClientInfo%22%3A%7B%22isZipLocated%22%3Atrue%2C%22callType%22%3A%22CLIENT%22%7D%2C%22userReqInfo%22%3A%7B%22refererContext%22%3A%7B%22source%22%3A%22itempage%22%2C%22query%22%3A%22%22%7D%2C%22isMoreOptionsTileEnabled%22%3Atrue%7D%7D%2C%22iId%22%3A%22${pid}%22%2C%22layout%22%3A%5B%22itemDesktop2%22%5D%2C%22p13N%22%3A%7B%22userClientInfo%22%3A%7B%22isZipLocated%22%3Atrue%2C%22deviceType%22%3A%22desktop%22%2C%22callType%22%3A%22CLIENT%22%7D%2C%22userReqInfo%22%3A%7B%22refererContext%22%3A%7B%22source%22%3A%22itempage%22%2C%22sourceId%22%3Anull%2C%22wmlspartner%22%3Anull%7D%2C%22pageUrl%22%3A%22%2Fip%2F${pname}%2F${pid}${spc_param}%22%7D%7D%2C%22cSId%22%3A%22%22%2C%22sSId%22%3Anull%2C%22fBBAd%22%3Atrue%2C%22fSL%22%3Atrue%2C%22fIdml%22%3Atrue%2C%22fMrkDscrp%22%3Afalse%2C%22fRev%22%3Atrue%2C%22fFit%22%3Atrue%2C%22fSeo%22%3Atrue%2C%22fP13%22%3Atrue%2C%22fAff%22%3Atrue%2C%22fMq%22%3Atrue%2C%22fGalAd%22%3Afalse%2C%22fSCar%22%3Atrue%2C%22fBB%22%3Atrue%2C%22eItIb%22%3Atrue%2C%22fIlc%22%3Atrue%2C%22bbe%22%3Atrue%2C%22fSId%22%3Atrue%2C%22eSb%22%3Atrue%2C%22eCc%22%3Atrue%2C%22enableRelatedSearch%22%3Atrue%2C%22enableDetailedBeacon%22%3Afalse%2C%22enableMultiSave%22%3Afalse%2C%22includeLabelV1%22%3Atrue%2C%22sV%22%3Afalse%2C%22sVC%22%3Afalse%2C%22enableBnplMessage%22%3Afalse%2C%22vFId%22%3Anull%2C%22pAdd%22%3Anull%2C%22sFId%22%3Anull%2C%22enableSizePredictor%22%3Afalse%2C%22sizePredictorInput%22%3Anull%7D`,
            headers: { 
                'authority': 'www.walmart.com', 
                'accept': 'application/json', 
                'accept-language': 'en-US', 
                'calltype': 'CLIENT', 
                'content-type': 'application/json', 
                'cookie': 'ACID=4b2c0acb-8698-4507-9f58-07fa4ef635bc; hasACID=true; abqme=true; vtc=a3YaFX8ZfrzKC14pIk5b4s; _pxhd=7bf5818491961c73a9576e432dcdc3ee747f279ab7e0dc1b700055a1801d4231:f6a89994-11eb-11ee-b90e-03c538a2e281; _astc=b750d2e3e78502e9b48cd3a2253ff68f; pxcts=02afd287-1240-11ee-b2c4-6344454f4242; _pxvid=f6a89994-11eb-11ee-b90e-03c538a2e281; AMCVS_B5281C8B53309CEF0A490D4D%40AdobeOrg=1; AMCV_B5281C8B53309CEF0A490D4D%40AdobeOrg=1176715910%7CMCIDTS%7C19533%7CMCMID%7C01466945093744813668611726350846013182%7CMCOPTOUT-1687592166s%7CNONE%7CvVersion%7C5.4.0; brwsr=8ae6c21c-19f3-11ee-9ba4-6f5a11c47a20; wmlh=d6587b60fa8983602ccb3e32ae93a2051a6813d26c335a6d4ca8b440941e0837; _m=9; dimensionData=783; _sp_id.ad94=db07fd6b-1746-4320-89f1-d80fd194463f.1687714208.15.1696468040.1696132881.7a0c4126-7449-4e2b-9b7d-906297cd9787; akavpau_p1=1696648884~id=7d41bfad4bb2f6bf1493acada6238ebe; adblocked=false; TBV=7; AID=wmlspartner%3D0%3Areflectorid%3D0000000000000000000000%3Alastupd%3D1697506820224; bstc=QRtUkRCcaFU9LpbLI52K5c; xpa=8h__F|AWebV|Bft_G|HIwN0|Tc1T1|VFZ_-|XBDLO|YnYws|qt9AI|xT80O|yUqGy; exp-ck=8h__F1Bft_G3HIwN02VFZ_-2YnYws4qt9AI1; ak_bmsc=CF66093A49D969BBBA9EB91118CC0643~000000000000000000000000000000~YAAQNe0ZuAtl0EaLAQAAQtrUTRWlvknixb699b0rz+QrOWGPpxB4cIYuOlNIMOFvp5RvIPIuoMdd4i+rG+vxGY5qC+8tjZPgOvPSmBJ8GJhKnLvyNUgGK31Wo93dsv5foErb3wUV6aClIjDBxnC8CTgvCf5MsDKEveZFJeIalIrlO0cG88ClCCRrc+rskfTOHLsRIboCKpBMo48tvAN1Lbp5Fvgaog0YK6gJL0Yyuesn1ZydMwEItu/9TnypG62yixYla6vjTV2BC3qSb6eNBjPuErBESq0nbm3p3+aVGukB9PiEZEhPjNvB9c+TSY2Lgx8aBwmEW29Y/rYx6Mp/OFvej+i9DrGzROItbv1XoA5N6XXBq6jrJlSkdvfXsw9YSJ1rP4IFFfCEBw==; auth=MTAyOTYyMDE4wo%2FHLRNq36tufGLUDY%2BOWGl%2BRCQrH5v4uA6KJ2JaY6ZntXpNRysJ8UL0c%2BnM5mpDZa0kV196lP1jSG7fZx4jWe%2BgFzDZ%2FXTBBtfc6ieG%2BHAmVSCgJaVisbb3N9aBaZkW767wuZloTfhm7Wk2KcjyglM949MaUzwsNnQKx2EXSLk%2FxEw9umLBp9BSJTIjQkta1%2B3s%2FU3rOEjP7gnlvqAXCraxRBbJxFinQUuoG7oxUGQUMk70P8glgOEpLOprhDfMDCcb9mgycy9jtT1uIyOBHQ7RrNioSNDRsU9nqeSXBVcs5Dtd186XYEb6fK6Pnl5JQ10oCKoy3sHBO53kIrWk0YQXW1cDHqrMuWZm5VVk%2FH6M7MDJ3MjGcyFexFF9Y7Ox5y3Usvox0p2AUhY3z8eY1UjyrOXbKKhH072NS%2FW0j%2FU%3D; locDataV3=eyJpc0RlZmF1bHRlZCI6ZmFsc2UsImlzRXhwbGljaXQiOmZhbHNlLCJpbnRlbnQiOiJTSElQUElORyIsInBpY2t1cCI6W3siYnVJZCI6IjAiLCJub2RlSWQiOiIyMDkiLCJkaXNwbGF5TmFtZSI6Ik96YXJrIFN0b3JlIiwibm9kZVR5cGUiOiJTVE9SRSIsImFkZHJlc3MiOnsicG9zdGFsQ29kZSI6IjcyOTQ5IiwiYWRkcmVzc0xpbmUxIjoiMTUxNiBOIDE4dGggU3QiLCJjaXR5IjoiT3phcmsiLCJzdGF0ZSI6IkFSIiwiY291bnRyeSI6IlVTIiwicG9zdGFsQ29kZTkiOiI3Mjk0OS0zNjExIn0sImdlb1BvaW50Ijp7ImxhdGl0dWRlIjozNS41MDM3MDksImxvbmdpdHVkZSI6LTkzLjg0MzgwMX0sImlzR2xhc3NFbmFibGVkIjp0cnVlLCJzY2hlZHVsZWRFbmFibGVkIjpmYWxzZSwidW5TY2hlZHVsZWRFbmFibGVkIjp0cnVlLCJodWJOb2RlSWQiOiIyMDkiLCJhY2Nlc3NQb2ludElkIjoiNzg2Zjk2NGItNTE1NC00Mjc3LWEwYWMtNjUzNTRkNDU2NDc2Iiwic3RvcmVIcnMiOiIwNjowMC0yMjowMCIsInN1cHBvcnRlZEFjY2Vzc1R5cGVzIjpbIlBJQ0tVUF9DVVJCU0lERSIsIlBJQ0tVUF9JTlNUT1JFIl0sInNlbGVjdGlvblR5cGUiOiJMU19TRUxFQ1RFRCJ9XSwic2hpcHBpbmdBZGRyZXNzIjp7ImxhdGl0dWRlIjozNS41MzMxLCJsb25naXR1ZGUiOi05My44MywicG9zdGFsQ29kZSI6IjcyOTQ5IiwiY2l0eSI6Ik96YXJrIiwic3RhdGUiOiJBUiIsImNvdW50cnlDb2RlIjoiVVNBIiwiZ2lmdEFkZHJlc3MiOmZhbHNlLCJ0aW1lWm9uZSI6IkFtZXJpY2EvQ2hpY2FnbyJ9LCJhc3NvcnRtZW50Ijp7Im5vZGVJZCI6IjIwOSIsImRpc3BsYXlOYW1lIjoiT3phcmsgU3RvcmUiLCJpbnRlbnQiOiJQSUNLVVAifSwiaW5zdG9yZSI6ZmFsc2UsInJlZnJlc2hBdCI6MTY5NzgyMTQ3NzM3MCwidmFsaWRhdGVLZXkiOiJwcm9kOnYyOjRiMmMwYWNiLTg2OTgtNDUwNy05ZjU4LTA3ZmE0ZWY2MzViYyJ9; assortmentStoreId=209; hasLocData=1; locGuestData=eyJpbnRlbnQiOiJTSElQUElORyIsImlzRXhwbGljaXQiOmZhbHNlLCJzdG9yZUludGVudCI6IlBJQ0tVUCIsIm1lcmdlRmxhZyI6ZmFsc2UsImlzRGVmYXVsdGVkIjpmYWxzZSwicGlja3VwIjp7Im5vZGVJZCI6IjIwOSIsInRpbWVzdGFtcCI6MTY4NzU0MTU2NDkzMiwic2VsZWN0aW9uVHlwZSI6IkxTX1NFTEVDVEVEIn0sInBvc3RhbENvZGUiOnsidGltZXN0YW1wIjoxNjg3NTQxNTY0OTMyLCJiYXNlIjoiNzI5NDkifSwibXAiOltdLCJ2YWxpZGF0ZUtleSI6InByb2Q6djI6NGIyYzBhY2ItODY5OC00NTA3LTlmNTgtMDdmYTRlZjYzNWJjIn0%3D; mobileweb=0; xpth=x-o-mart%2BB2C~x-o-mverified%2Bfalse; xptc=assortmentStoreId%2B209; xpm=1%2B1697817879%2Ba3YaFX8ZfrzKC14pIk5b4s~%2B0; _px3=e67723545cbadab48fc97fbc4e0c6003e89e5d643abdc430034daced4b3d9fed:YIUDLuD9dVD9j1XrtY2mx14uX/inUPQAe/2qtncoI4CkYO7Kl0XvyR/1ljHqisLEez3u67lVUnngm5G/cBTprg==:1000:n7u69D+GBf5Vj7mNtG0IeXqZ50n+8kObgpdpimmE40vjpvG5Ckt6yDStsqODtqZxBHydyypEpJULrpUp51tqUKTPeKzG8JEGcEXccgAKND8xSL+P9RLKt1R3DKm604nxtR3/w44qfKUKCaVQo6dIQpn71DHc0P38x4kSaOmIcHr/e9Y3flymx6yv92stxftqQBR2Pk91Y7nhn9BZsJQemUh63aV49cxRnnPf3g4SmNE=; userAppVersion=us-web-1.103.0-927cde6b689958aac51e6984dd7b25a4ec15d775-1017; xptwj=qq:828095d315454da9d91f:B7bZty63rfwHvvqsbWcwtwTv6ddS7hT1px3zsgBVyqwaCwdNRR+Jp9D8FO7ZvrtFydTC7Pg1sY1Mg8OFa3lrVw7/6vYuxAk+76UbBaNvFsb484fjwpZr/UphQfl/z9BzvwbCBjNUtE298eKw/fNRLuvenpaU9jy6bBZ52HQ1p2Jj+qwqeO94GPgYU3nuzM0bHi7Ejvf6RA==; akavpau_p2=1697818775~id=077a3a311409dc1fb8927cb4579ca7b8; bm_mi=79F755A07C03604B5F7AD77FD3A36340~YAAQDPjNF6/FcE2LAQAAImbZTRVX5PLNzmryglVdfRs1abLKwSMF70ERbRrEDHESfdeEm7UZol/uD1N1K7yzdCOI2zo4XRFMp+QQiHNBx4jOdzy8AJ/orYPgh0mAx6t/GzDmn38sfX8Enm8kvnPGfiUVmGDyiFW5NR4lW5AsHYKKKoaKAnwFifCF9xqYEPTADex7RmlJ9soO5lUX3u3/ed2sxQa5SdYzE4sPR3qNPIlXWdBUm+3b9piVPokzAXwWCa828kKz/9+28EWSG5mbIw2j5OaJ/JjIbg42DmJVxUa+vBebeXqz3k61PSFvUU+qOWt4UIZYlqaq~1; _pxde=23aaa0caf9425c3d6856b3c27260193379ab9cf17aa0b79acc091e18d57d5e14:eyJ0aW1lc3RhbXAiOjE2OTc4MTgxNzU0NzF9; com.wm.reflector="reflectorid:imp_ULvQUAxqbxyPRPo39GxywyMsUkF1ecylu32yTw0@lastupd:1697818175000@firstcreate:1691788149922"; xptwg=3633210657:17B33C42D2821B0:3BF4460:360A6248:C0FA33D4:FF99F4A1:; TS012768cf=013453a80fa52707cc0fa6399375ab2d1e23cd476c708e5f9949213eb532ecc1a9a460d4a8b6ffd40228e49a1a571b1ae2a5d42852; TS01a90220=013453a80fa52707cc0fa6399375ab2d1e23cd476c708e5f9949213eb532ecc1a9a460d4a8b6ffd40228e49a1a571b1ae2a5d42852; TS2a5e0c5c027=0884dbfe88ab2000e25c84aaddf728dcd97578241df9c5871e62571be79091a2f0205fbc46df8c9108e03908471130000173ea739630005cea9e20fae52a4db99dfd448200bfce9ea623f2d839f8b7bcd06603267c5d8a3723db5f47d30e7a2b; bm_sv=93CD2382CD5E7C2869114C922F6AA291~YAAQDPjNF9zFcE2LAQAAnGjZTRV1RW1Q9GOrAzWFzMXBSVby+wI7C9QrBgxkoAKMyr+Y68SOBjiZa5GK2x1+53gT15Bb/NHxcYhaiDdzhSTMoVa39JrxIhPZRFLSc85GjQ9f3y5puQruvEhHO0qpYdKUB2zZ1r4VsX4KNP7iZ7clZ3emxX5jfgoQUz/gFDnR4KywTnZdSJt40y57AtGIW+54K/lbwUZIz80rFIZ+elbKw5kzyyPBNJEoPGnQeXUiV04=~1; TS01a90220=01eba894a0cbe2c571cd8bb805fe478dbae5aaa0672344764c4c04860a238128350f05d9d311f155c705cd9a8f1115cf8805d8fcd8; _m=9; bm_sv=93CD2382CD5E7C2869114C922F6AA291~YAAQH/jNF8pSTEqLAQAAXJnaTRW3YgTQwuoAXJqyDrwlAduDCngGHeJGMiDvB6HRKw2uNPbLLKGbUFnl/CDkB8PNenUC2ZgWQRxmeVhixtpX5/strpz3QALhkL6PormsY2LMqFFQQ/V11xkX4GXvkUwjhhb35EMXGlDMJazLZhas7renXQRarjlt+N/rpZntoOgs5BRR2D+qolCyKmo8X74o/dH8h7MSZ4BxGtXw/kfo+22hnjMzA43kqTFyZm5HRrY=~1; bstc=QRtUkRCcaFU9LpbLI52K5c; com.wm.reflector="reflectorid:imp_ULvQUAxqbxyPRPo39GxywyMsUkF1ecylu32yTw0@lastupd:1697818253000@firstcreate:1691788149922"; exp-ck=8h__F1Bft_G3HIwN02VFZ_-2YnYws4qt9AI1; locDataV3=eyJpc0RlZmF1bHRlZCI6ZmFsc2UsImlzRXhwbGljaXQiOmZhbHNlLCJpbnRlbnQiOiJTSElQUElORyIsInBpY2t1cCI6W3siYnVJZCI6IjAiLCJub2RlSWQiOiIyMDkiLCJkaXNwbGF5TmFtZSI6Ik96YXJrIFN0b3JlIiwibm9kZVR5cGUiOiJTVE9SRSIsImFkZHJlc3MiOnsicG9zdGFsQ29kZSI6IjcyOTQ5IiwiYWRkcmVzc0xpbmUxIjoiMTUxNiBOIDE4dGggU3QiLCJjaXR5IjoiT3phcmsiLCJzdGF0ZSI6IkFSIiwiY291bnRyeSI6IlVTIiwicG9zdGFsQ29kZTkiOiI3Mjk0OS0zNjExIn0sImdlb1BvaW50Ijp7ImxhdGl0dWRlIjozNS41MDM3MDksImxvbmdpdHVkZSI6LTkzLjg0MzgwMX0sImlzR2xhc3NFbmFibGVkIjp0cnVlLCJzY2hlZHVsZWRFbmFibGVkIjpmYWxzZSwidW5TY2hlZHVsZWRFbmFibGVkIjp0cnVlLCJodWJOb2RlSWQiOiIyMDkiLCJhY2Nlc3NQb2ludElkIjoiNzg2Zjk2NGItNTE1NC00Mjc3LWEwYWMtNjUzNTRkNDU2NDc2Iiwic3RvcmVIcnMiOiIwNjowMC0yMjowMCIsInN1cHBvcnRlZEFjY2Vzc1R5cGVzIjpbIlBJQ0tVUF9DVVJCU0lERSIsIlBJQ0tVUF9JTlNUT1JFIl0sInNlbGVjdGlvblR5cGUiOiJMU19TRUxFQ1RFRCJ9XSwic2hpcHBpbmdBZGRyZXNzIjp7ImxhdGl0dWRlIjozNS41MzMxLCJsb25naXR1ZGUiOi05My44MywicG9zdGFsQ29kZSI6IjcyOTQ5IiwiY2l0eSI6Ik96YXJrIiwic3RhdGUiOiJBUiIsImNvdW50cnlDb2RlIjoiVVNBIiwiZ2lmdEFkZHJlc3MiOmZhbHNlLCJ0aW1lWm9uZSI6IkFtZXJpY2EvQ2hpY2FnbyJ9LCJhc3NvcnRtZW50Ijp7Im5vZGVJZCI6IjIwOSIsImRpc3BsYXlOYW1lIjoiT3phcmsgU3RvcmUiLCJpbnRlbnQiOiJQSUNLVVAifSwiaW5zdG9yZSI6ZmFsc2UsInJlZnJlc2hBdCI6MTY5NzgyMTQ0NjQ5MCwidmFsaWRhdGVLZXkiOiJwcm9kOnYyOjRiMmMwYWNiLTg2OTgtNDUwNy05ZjU4LTA3ZmE0ZWY2MzViYyJ9; locGuestData=eyJpbnRlbnQiOiJTSElQUElORyIsImlzRXhwbGljaXQiOmZhbHNlLCJzdG9yZUludGVudCI6IlBJQ0tVUCIsIm1lcmdlRmxhZyI6ZmFsc2UsImlzRGVmYXVsdGVkIjpmYWxzZSwicGlja3VwIjp7Im5vZGVJZCI6IjIwOSIsInRpbWVzdGFtcCI6MTY4NzU0MTU2NDkzMiwic2VsZWN0aW9uVHlwZSI6IkxTX1NFTEVDVEVEIn0sInBvc3RhbENvZGUiOnsidGltZXN0YW1wIjoxNjg3NTQxNTY0OTMyLCJiYXNlIjoiNzI5NDkifSwibXAiOltdLCJ2YWxpZGF0ZUtleSI6InByb2Q6djI6NGIyYzBhY2ItODY5OC00NTA3LTlmNTgtMDdmYTRlZjYzNWJjIn0%3D; mobileweb=0; vtc=a3YaFX8ZfrzKC14pIk5b4s; xpa=8h__F|AWebV|Bft_G|HIwN0|Tc1T1|VFZ_-|XBDLO|YnYws|qt9AI|xT80O|yUqGy; xpm=1%2B1697817846%2Ba3YaFX8ZfrzKC14pIk5b4s~%2B0; xptc=assortmentStoreId%2B209; xpth=x-o-mart%2BB2C~x-o-mverified%2Bfalse; xptwg=2829213545:1B1BBC2113AF4C0:44936ED:285A46A6:3F8D8BCF:DA92C66D:; xptwj=qq:edbc92544e197c0bba4f:hVAgnOdi9SoviTn/ckPbphog+XVBqoB/iyJ9nCNUlT/Yx/TSTK/5RNlzsb5QGXDov8dlrDj/SPmdZdFJOuSb4JxU+WT4GkuwBArVDMFbUoJ1S6Qqgip/2dLE4RqQxbkzkOP1pVUD8eZkWL00CZk2qcXsRu/GGRe3TrBo7JxqfAfuJd8DiJfRfW2FcEnVu+GrgsxK3b8=; TS012768cf=01eba894a0cbe2c571cd8bb805fe478dbae5aaa0672344764c4c04860a238128350f05d9d311f155c705cd9a8f1115cf8805d8fcd8; TS2a5e0c5c027=08149dfc00ab2000d68c448b1b8c1fb575deed729be89c2464205a6176d0f48393fac1a35ec6fae208868198631130001defbe42c25ee1cba78b7cd99a89ef3cfe2af20ff0f99e4bf46b77f29ace894c0872dee01a79bbf3334b22d052c8714c; abqme=true; akavpau_p2=1697818853~id=1cfde94c1bb5250efad6192c59ab3482; assortmentStoreId=209; hasLocData=1', 
                'device_profile_ref_id': 'l7nT_agJrrpePHlFBPwndJIezOqCSVh7P--F', 
                'downlink': '10', 
                'dpr': '2', 
                'ip-referer': 'https://www.walmart.com/shop/deals', 
                'is-variant-fetch': 'false', 
                'referer': url, 
                'sec-ch-ua': '"Google Chrome";v="117", "Not;A=Brand";v="8", "Chromium";v="117"', 
                'sec-ch-ua-mobile': '?0', 
                'sec-ch-ua-platform': '"macOS"', 
                'sec-fetch-dest': 'empty', 
                'sec-fetch-mode': 'cors', 
                'sec-fetch-site': 'same-origin', 
                'traceparent': '00-4a2cdddc1230897e6f017d13779090b8-ea55658391fb1ea1-00', 
                'traffic-type': 'Internal', 
                'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/117.0.0.0 Safari/537.36', 
                'wm_mp': 'true', 
                'wm_page_url': url, 
                'wm_qos.correlation_id': 'jpYTt2ySZ59KKn_bsvstlk-o7dR7myS_Rus1', 
                'x-apollo-operation-name': 'ItemById', 
                'x-enable-server-timing': '1', 
                'x-latency-trace': '1', 
                'x-o-bu': 'WALMART-US', 
                'x-o-ccm': 'server', 
                'x-o-correlation-id': 'jpYTt2ySZ59KKn_bsvstlk-o7dR7myS_Rus1', 
                'x-o-gql-query': 'query ItemById', 
                'x-o-item-id': pid, 
                'x-o-mart': 'B2C', 
                'x-o-platform': 'rweb', 
                'x-o-platform-version': 'us-web-1.103.0-5abce38e52eda49dedea57684921b270875c7566-1020', 
                'x-o-segment': 'oaoh'
            }
        }  
    }
}

export {Walmart};








